# 通过系统提示给 Claude 一个角色

https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/system-prompts

虽然这些技巧普遍适用于所有 Claude 模型，但您可以在[此处](./13.extended-thinking-tips.md)找到针对扩展思维模型的特定提示技巧。

在使用 Claude 时，您可以通过使用 `system` 参数为其指定一个角色来显著提高其性能。这种技术被称为角色提示，是与 Claude 一起使用系统提示的最有效方法。

正确的角色可以将 Claude 从一个普通的助手转变为您的虚拟领域专家！

**系统提示技巧**

使用 `system` 参数来设置 Claude 的角色。将所有其他内容，如特定于任务的指令，放在 `user` 轮次中。

## 为什么要使用角色提示？

* **提高准确性：** 在法律分析或财务建模等复杂场景中，角色提示可以显著提升 Claude 的性能。
* **量身定制的语气：** 无论您需要首席财务官的简洁还是文案撰稿人的才华，角色提示都可以调整 Claude 的沟通风格。
* **提高专注度：** 通过设置角色上下文，Claude 更能遵守您任务的具体要求。

***

## 如何给 Claude 一个角色

在 [Messages API](/en/api/messages) 中使用 `system` 参数来设置 Claude 的角色：

```python
import anthropic

client = anthropic.Anthropic()

response = client.messages.create(
    model="claude-3-7-sonnet-20250219",
    max_tokens=2048,
    system="您是一家财富 500 强公司经验丰富的数据科学家。", # <-- 角色提示
    messages=[
        {"role": "user", "content": "分析此数据集中的异常情况：<dataset>{{DATASET}}</dataset>"}
    ]
)

print(response.content)
```

**角色提示技巧**

尝试不同的角色！对于相同的数据，`数据科学家` 可能会看到与 `营销策略师` 不同的见解。而 `专门为财富 500 强公司进行客户洞察分析的数据科学家` 可能会产生截然不同的结果！

***

## 示例

### 示例 1：法律合同分析

没有角色，Claude 可能会忽略关键问题：

#### 没有角色提示的法律合同分析

| 角色 | 内容 |
| --- | --- |
| 用户 | 分析此软件许可协议中的潜在风险：<br /><contract><br />\{\{CONTRACT}}<br /></contract><br /><br />重点关注赔偿、责任和知识产权所有权。 |
| 助手 | 这是软件许可协议中要点的摘要：<br /><br />1. 赔偿（第 8 节）：<br /> - 我们赔偿供应商因我们使用而产生的索赔。<br /><br />2. 责任限制（第 9 节）：<br /> - 损害赔偿上限为 500 美元。<br /><br />3. 知识产权所有权（第 12 节）：<br /> - 我们保留对我们修改的所有权。<br /><br />总的来说，该协议似乎是标准的。赔偿和责任条款是典型的，我们保留我们的知识产权。 |

有了角色，Claude 能发现可能造成数百万损失的关键问题：

#### 带有角色提示的法律合同分析

| 角色 | 内容 |
| --- | --- |
| 用户 | 您是一家财富 500 强科技公司的总法律顾问。我们正在考虑将此软件许可协议用于我们的核心数据基础设施：<br /><contract><br />\{\{CONTRACT}}<br /></contract><br /><br />分析其潜在风险，重点关注赔偿、责任和知识产权所有权。给出您的专业意见。 |
| 助手 | 我已经审查了该软件许可协议，我有一些严重的担忧，这可能会使我们公司面临重大风险：<br /><br />1. 赔偿（第 8 节）：<br /> - 关键问题：我们赔偿供应商因我们使用而产生的“任何及所有索赔”。<br /> - 风险：这可能使我们即使因供应商的疏忽或产品缺陷而承担责任。<br /> - 建议：拒绝。将我们的赔偿限制为因我们违反协议而产生的索赔。<br /><br />2. 责任限制（第 9 节）：<br /> - 关键问题：损害赔偿上限为 500 美元，包括直接损害。<br /> - 风险：严重不足。我们数据基础设施的严重故障可能使我们损失数百万美元的收入和声誉损害。<br /> - 建议：拒绝。谈判将直接损害的上限设为 12 个月的费用，并为数据泄露提供例外。<br /><br />3. 知识产权所有权（第 12 节）：<br /> - 关键问题：供应商获得我们修改和集成的共同所有权。<br /> - 风险：他们可能会使用或向竞争对手出售我们的专有算法或数据见解。<br /> - 建议：拒绝。我们必须保留我们工作的全部所有权。<br /><br />专业意见：不要签署此协议。它非常不利，使我们面临不可接受的风险。如果供应商拒绝重新谈判这些条款，我强烈建议探索替代供应商或加速我们的内部解决方案。继续使用此协议的潜在成本远远超过任何短期收益。 |

### 示例 2：财务分析

没有角色，Claude 的分析缺乏深度：

#### 没有角色提示的财务分析

| 角色 | 内容 |
| --- | --- |
| 用户 | 分析我们第二季度财务的这个数据集：<br /><data><br />\{\{FINANCIALS}}<br /></data><br /><br />突出关键趋势并建议采取行动。 |
| 助手 | 这是您第二季度财务的摘要：<br /><br />1. 收入：1520 万美元，同比增长 22%。企业客户群增长 30%。<br />2. 毛利率：72%，比第一季度增长 3%。<br />3. EBITDA 利润率：18%，由于研发投资下降 2%。<br />4. 现金流：410 万美元的运营现金流，2800 万美元的储备金。<br /><br />总的来说，财务状况看起来很强劲，收入增长和健康的利润率。增加的研发支出正在影响盈利能力，但从长远来看可能会有回报。维持目前的路线。 |

有了角色，Claude 能提供可操作的见解：

#### 带有角色提示的财务分析

| 角色 | 内容 |
| --- | --- |
| 用户 | 您是一家高增长 B2B SaaS 公司的首席财务官。我们正在董事会会议上讨论我们第二季度的财务状况：<br /><data><br />\{\{FINANCIALS}}<br /></data><br /><br />分析关键趋势，标记担忧，并建议战略行动。我们的投资者希望实现积极增长，但对我们的烧钱率持谨慎态度。 |
| 助手 | 各位董事会成员，这是我对我们第二季度财务状况的分析：<br /><br />1. 收入（1520 万美元，同比增长 22%）：<br /> - 洞察：企业增长（+30%）超过了整体增长。<br /> - 标记：中小企业部分下降 5%。<br /> - 行动：将中小企业营销预算的 20% 重新分配给企业销售。要求产品简化中小企业的入门流程。<br /><br />2. 利润率（毛利率：72%，环比增长 3%；EBITDA：18%，环比下降 2%）：<br /> - 洞察：基础设施优化提升了毛利率。<br /> - 标记：人工智能功能的研发支出削弱了 EBITDA。<br /> - 行动：不变。我们的人工智能路线图对于企业客户的粘性至关重要。<br /><br />3. 现金（410 万美元运营现金流，2800 万美元储备金）：<br /> - 洞察：按目前的烧钱率计算，有 15 个月的跑道。<br /> - 标记：客户获取成本上升 20%，侵蚀了 LTV/CAC。<br /> - 行动：冻结非必要招聘。实施销售漏斗分析，在第三季度将客户获取成本降低 15%。<br /><br />战略立场：我们正在增长和烧钱之间寻找平衡点。企业重点是我们的增长引擎——投资于此。但要注意中小企业的流失；它可能会蔓延到企业。我们的人工智能赌注是合理的，但我们必须在第四季度之前将其转化为 ARR，否则我们将削减 30% 的研发。<br /><br />总之：加倍投入企业，精简中小企业，优化销售，并将人工智能货币化。有问题吗？ |

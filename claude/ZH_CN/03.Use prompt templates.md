# 使用提示模板和变量

https://docs.claude.com/en/docs/build-with-claude/prompt-engineering/prompt-templates-and-variables

在使用 Claude 部署基于 LLM 的应用程序时，您的 API 调用通常包含两种类型的内容：

* **固定内容：** 在多次交互中保持不变的静态指令或上下文
* **可变内容：** 随每个请求或对话而变化的动态元素，例如：
  * 用户输入
  * 用于检索增强生成（RAG）的检索内容
  * 对话上下文，如用户帐户历史记录
  * 系统生成的数据，如从其他对 Claude 的独立调用中输入的工具使用结果

**提示模板** 将这些固定和可变部分结合起来，使用占位符表示动态内容。在 [Claude 控制台](https://console.anthropic.com/)中，这些占位符用 **\{\{双大括号}}** 表示，使其易于识别，并允许快速测试不同的值。

***

# 何时使用提示模板和变量

当您期望提示的任何部分将在另一次对 Claude 的调用中重复时（仅通过 API 或 [Claude 控制台](https://console.anthropic.com/)），您应始终使用提示模板和变量。（[claude.ai](https://claude.ai/) 目前不支持提示模板或变量）。

提示模板有几个好处：

* **一致性：** 确保您在多次交互中的提示结构一致
* **效率：** 轻松替换可变内容，而无需重写整个提示
* **可测试性：** 通过仅更改可变部分来快速测试不同的输入和边缘情况
* **可扩展性：** 随着应用程序复杂性的增加，简化提示管理
* **版本控制：** 通过仅跟踪提示的核心部分（与动态输入分开），轻松地随时间跟踪提示结构的更改

[Claude 控制台](https://console.anthropic.com/) 大量使用提示模板和变量，以支持上述所有功能和工具，例如：

* **[提示生成器](/en/docs/build-with-claude/prompt-engineering/prompt-generator)：** 决定您的提示需要哪些变量，并将其包含在输出的模板中
* **[提示改进器](/en/docs/build-with-claude/prompt-engineering/prompt-improver)：** 获取您现有的模板（包括所有变量），并在其输出的改进模板中维护它们
* **[评估工具](/en/docs/test-and-evaluate/eval-tool)：** 通过分离提示模板的可变和固定部分，让您轻松测试、扩展和跟踪提示的版本

***

# 示例提示模板

让我们考虑一个将英文文本翻译成西班牙文的简单应用程序。被翻译的文本是可变的，因为您会期望该文本在不同用户或对 Claude 的调用之间发生变化。这个被翻译的文本可以从数据库或用户的输入中动态检索。

因此，对于您的翻译应用程序，您可能会使用这个简单的提示模板：

```
将此文本从英文翻译成西班牙文：{{text}}
```
